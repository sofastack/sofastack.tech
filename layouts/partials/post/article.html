<article class="typo">
  {{ .Content | markdownify }}
</article>

<script>
  const article = document.querySelector('article.typo')

  // 选取所有img标签
  const imgElements = article.querySelectorAll('img');

  // 遍历img标签数组
  imgElements.forEach(img => {
    const src = img.getAttribute('src');
    //图片格式列表
    const imageFormats = ['.jpg', '.jpeg', '.png', '.gif', 'image', '.svg', '.ai', '.psd', '.tiff', '.bmp'];
    //判断url中是否有图片格式结尾，没有则添加.image
    if (!imageFormats.some(format => src.toLowerCase().endsWith(format))) {
        img.setAttribute('src', src + '.image');
      }

    img.setAttribute('referrerpolicy', 'no-referrer');
  });
</script>