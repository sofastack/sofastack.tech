---
title: "ã€2022 å¼€æºä¹‹å¤ã€‘æ¬¢è¿ŽæŠ¥å SOFAStack ç¤¾åŒºå’Œ MOSN ç¤¾åŒºé¡¹ç›®ï¼"
authorlink: "https://github.com/sofastack"
description: "2022 å¼€æºä¹‹å¤ã€‘æ¬¢è¿ŽæŠ¥å SOFAStack ç¤¾åŒºå’Œ MOSN ç¤¾åŒºé¡¹ç›®ï¼"
categories: "SOFA Weekly"
tags: ["SOFA Weekly"]
date: 2022-05-07 T15:00:00+08:00
cover: "https://gw.alipayobjects.com/mdn/rms_1c90e8/afts/img/A*lboCQplrH-IAAAAAAAAAAAAAARQnAQ"
---

å¼€æºä¹‹å¤æ˜¯ç”±â€œå¼€æºè½¯ä»¶ä¾›åº”é“¾ç‚¹äº®è®¡åˆ’â€å‘èµ·å¹¶é•¿æœŸæ”¯æŒçš„ä¸€é¡¹æš‘æœŸå¼€æºæ´»åŠ¨ï¼Œæ—¨åœ¨é¼“åŠ±åœ¨æ ¡å­¦ç”Ÿç§¯æžå‚ä¸Žå¼€æºè½¯ä»¶çš„å¼€å‘ç»´æŠ¤ï¼Œä¿ƒè¿›ä¼˜ç§€å¼€æºè½¯ä»¶ç¤¾åŒºçš„è“¬å‹ƒå‘å±•ï¼ŒåŸ¹å…»å’Œå‘æŽ˜æ›´å¤šä¼˜ç§€çš„å¼€å‘è€…ã€‚

æ´»åŠ¨è”åˆå›½å†…å¤–å„å¤§å¼€æºç¤¾åŒºï¼Œé’ˆå¯¹é‡è¦å¼€æºè½¯ä»¶çš„å¼€å‘ä¸Žç»´æŠ¤æä¾›é¡¹ç›®ä»»åŠ¡ï¼Œå¹¶é¢å‘å…¨çƒé«˜æ ¡å­¦ç”Ÿå¼€æ”¾æŠ¥åã€‚

![weekly.jpg](https://gw.alipayobjects.com/mdn/rms_1c90e8/afts/img/A*w1DUTLCCnzkAAAAAAAAAAAAAARQnAQ)

2022 å¹´ï¼ŒSOFAStack å’Œ MOSN ç¤¾åŒºå†æ¬¡åŠ å…¥ä¸­å›½ç§‘å­¦é™¢è½¯ä»¶ç ”ç©¶æ‰€çš„é«˜æ ¡å¼€æºæ´»åŠ¨â€”â€”â€œå¼€æºä¹‹å¤ 2022â€ï¼Œä¸ºå¤§å®¶å‡†å¤‡äº†å…­ä¸ªä»»åŠ¡ï¼Œæ¶‰åŠ Cloud Nativeã€Micro Serviceã€Distributed Systemã€Kubernetesã€Container ç­‰å¤šä¸ªé¢†åŸŸã€‚

## æ´»åŠ¨è§„åˆ™

è¿›å…¥ðŸ‘‰ï¼š[https://summer-ospp.ac.cn/#/homepage](https://summer-ospp.ac.cn/#/homepage)

å„ä½åŒå­¦å¯ä»¥è‡ªç”±é€‰æ‹©é¡¹ç›®ï¼Œä¸Žç¤¾åŒºå¯¼å¸ˆæ²Ÿé€šå®žçŽ°æ–¹æ¡ˆå¹¶æ’°å†™é¡¹ç›®è®¡åˆ’ä¹¦ã€‚è¢«é€‰ä¸­çš„å­¦ç”Ÿå°†åœ¨ç¤¾åŒºå¯¼å¸ˆæŒ‡å¯¼ä¸‹ï¼ŒæŒ‰è®¡åˆ’å®Œæˆå¼€å‘å·¥ä½œï¼Œå¹¶å°†æˆæžœè´¡çŒ®ç»™ç¤¾åŒºã€‚ç¤¾åŒºè¯„ä¼°å­¦ç”Ÿçš„å®Œæˆåº¦ï¼Œä¸»åŠžæ–¹æ ¹æ®è¯„ä¼°ç»“æžœå‘æ”¾èµ„åŠ©é‡‘é¢ç»™å­¦ç”Ÿã€‚

### SOFARegistry

**SOFARegistry å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡**

SOFARegistry çš„å®¢æˆ·ç«¯ç›®å‰é‡‡ç”¨é•¿è¿žæŽ¥ä¸Žå…¶ä¸­ä¸€å° Session ç›¸è¿žï¼ŒéšåŽä¼šç”¨è¿™æ ¹é“¾æŽ¥æ³¨å†Œå’Œè®¢é˜…æœåŠ¡ï¼Œåœ¨æ³¨å†Œä¸­å¿ƒè¿›è¡Œè¿ç»´æœŸé—´ï¼Œå®¢æˆ·ç«¯ä¼šæ–­é“¾é‡è¿žåˆ°åˆ«çš„æœºå™¨ä¸Šï¼Œç»è¿‡ä¸€è½®æ»šåŠ¨å‡çº§ï¼Œå°±ä¼šé€ æˆ Session ä¸Šé“¾æŽ¥åˆ†å¸ƒçš„ä¸å‡è¡¡ï¼Œä¸€æ˜¯æ•°æ®ä¸å‡è¡¡ï¼ŒäºŒæ˜¯æŽ¨é€åŽ‹åŠ›ä¸å‡è¡¡ï¼Œä¸¥é‡çš„æ—¶å€™ä¼šé€ æˆå•æœºçƒ­ç‚¹ï¼Œå½±å“æŽ¨é€çš„æ•ˆçŽ‡ã€‚

ç”±äºŽé•¿è¿žæŽ¥å¿«é€Ÿæ£€æµ‹èŠ‚ç‚¹å®•æœºçš„æœºåˆ¶ï¼Œä¸»åŠ¨æ–­é“¾ä¼šé€ æˆèŠ‚ç‚¹æ•°æ®ä¸‹çº¿ï¼Œå› æ­¤å®¢æˆ·ç«¯é“¾æŽ¥çš„ç¨³å®šæ€§ä¹Ÿæ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„è€ƒè™‘ã€‚

å¯¹æœåŠ¡å‘çŽ°æ¥è¯´ï¼Œå‘å¸ƒå’Œè®¢é˜…å¯¹é“¾æŽ¥ç¨³å®šæ€§çš„è¦æ±‚ä¸åŒï¼š

- å¯¹å‘å¸ƒï¼Œé“¾æŽ¥æ–­å¼€ä¼šé€ æˆæœåŠ¡æ•°æ®ä¸‹çº¿

- å¯¹è®¢é˜…ï¼Œä¼šé€ æˆè½»å¾®çš„æ•°æ®æŽ¨é€å»¶è¿Ÿï¼Œå»¶è¿Ÿæ—¶é—´é€šå¸¸æ˜¯é‡è¿žé—´éš”

é¡¹ç›®ç¤¾åŒºå¯¼å¸ˆï¼šdzdx[dzidaxie@gmail.com](dzidaxie@gmail.com)

### Layotto

**å¢žå¼º layotto-java-sdk å’Œ layotto-spring-boot**

é¡¹ç›®ç¼–å·ï¼š2295a0213

ä»»åŠ¡éš¾åº¦ï¼šåŸºç¡€/Basic

1.å¢žå¼º Layotto çš„ java-sdk çš„åŠŸèƒ½ï¼Œä½¿å…¶ä¸Ž go-sdk å¯¹é½ã€‚çŽ°åœ¨çš„ java-sdk æœ‰ fileã€lockã€pubsubã€sequencerã€state çš„ APIï¼Œç¼ºå°‘ secretã€config ç­‰ APIã€‚

2. å®Œå–„ layotto-sdk-springboot, å°† Layotto çš„æ›´å¤šåŠŸèƒ½é›†æˆè¿› spring-bootã€‚layotto-sdk-springboot çš„è®¾è®¡ç›®æ ‡æ˜¯å¸®åŠ© spring-boot çš„ç”¨æˆ·ä½Žæˆæœ¬æŽ¥å…¥ Layottoï¼Œæ¯”å¦‚ç”¨æˆ·åœ¨ä»£ç ä¸­æ·»åŠ ä¸€ä¸ª Java æ³¨è§£åŽï¼Œå°±èƒ½æ–¹ä¾¿çš„è¿›è¡Œæ¶ˆæ¯ç›‘å¬ã€æ”¶åˆ°æ–°æ¶ˆæ¯åŽè‡ªåŠ¨è°ƒç”¨æ–¹æ³•ã€‚

3. åœ¨ layotto-sdk-springboot çš„åŸºç¡€ä¸Šï¼Œå¼€å‘ layotto-sdk-sofaboot, æ–¹ä¾¿ SOFABoot ç”¨æˆ·ä½¿ç”¨ Layottoã€‚

é¡¹ç›®ç¤¾åŒºå¯¼å¸ˆï¼šå¼ ç«‹æ–Œ[1098294815@qq.com](1098294815@qq.com)

### Layotto 

**Layotto ä¸­å®žçŽ° ceph æ–‡ä»¶ç³»ç»Ÿï¼ŒåŒæ—¶æ‰“é€š SOFABoot**

é¡¹ç›®ç¼–å·ï¼š2295a0214

ä»»åŠ¡éš¾åº¦ï¼šåŸºç¡€/Basic

ç”¨ ceph å®žçŽ° Layotto çš„ file API ç»„ä»¶ï¼Œå¹¶é€šè¿‡ SOFABoot è°ƒé€šã€‚

- é¦–å…ˆç†Ÿæ‚‰ Layotto çš„æž¶æž„è®¾è®¡ï¼ŒåŸºäºŽçŽ°åœ¨çš„ file æŽ¥å£å®žçŽ° ceph æ–‡ä»¶ç³»ç»Ÿã€‚ï¼ˆæ­¤å¤„éœ€è¦è°ƒç ” Layotto çš„ file ç»„ä»¶çš„å¯ç§»æ¤æ€§ä»¥åŠ ceph æ–‡ä»¶ç³»ç»Ÿï¼Œåˆ¤æ–­å½“å‰çš„ Layotto æŽ¥å£èƒ½å¦æ»¡è¶³ ceph æ–‡ä»¶ç³»ç»Ÿï¼‰

- é€šè¿‡ SOFABoot å’Œ Layotto æ‰“é€šï¼Œå¯ä»¥é€šè¿‡ SOFABoot åº”ç”¨è°ƒé€š Layotto çš„ file æŽ¥å£ã€‚

é¡¹ç›®ç¤¾åŒºå¯¼å¸ˆï¼šwenxuwan[wangwx_junction@163.com](wangwx_junction@163.com)

### SOFATracer

**SOFATracer upgrade opentracing api version & adapter opentelemetry api.**

é¡¹ç›®ç¼–å·ï¼š2295a0196 

ä»»åŠ¡éš¾åº¦ï¼šè¿›é˜¶/Advanced

Currently, sofa-tracer relies on the openTracing version 0.22.0. This version has been out of date for a long time and we need to update to the official recommended stable version. In addition, we need to provide an API layer to accommodate OpentElemetry.

Tasks:

1ã€upgrade opentracing version torelease-0.33.0

2ã€adapter https://opentelemetry.io/docs/migration/opentracing/

3ã€provide intergration doc and guides

é¡¹ç›®ç¤¾åŒºå¯¼å¸ˆï¼šå«æ’ï¼ˆå®‹å›½ç£Šï¼‰[glmapper_2018@163.com](glmapper_2018@163.com)

### MOSN

**ä¸º MOSN é€‚é…ç¤¾åŒº Proxy-Wasm v2 å¼€æºè§„èŒƒ**

é¡¹ç›®ç¼–å·ï¼š22f080190

ä»»åŠ¡éš¾åº¦ï¼šè¿›é˜¶/Advanced

WebAssembly(Wasm) æ˜¯è¿‘å‡ å¹´ä»Ž Web é¢†åŸŸè¯žç”Ÿï¼Œå¹¶å¿«é€Ÿå‡ºåœˆçš„ä¸€é¡¹è™šæ‹ŸæœºæŒ‡ä»¤æ ¼å¼ï¼Œæ˜¯ä¸€ç§å¯ç§»æ¤çš„ã€è¯­è¨€æ— å…³å¹¶å…¼å®¹ Web çš„å…¨æ–°æ ¼å¼ï¼Œæ”¯æŒåœ¨æµè§ˆå™¨å’Œéž Web çŽ¯å¢ƒè¿è¡Œä¸åŒè¯­è¨€ç¼–å†™çš„åº”ç”¨ç¨‹åºã€‚

MOSN æ˜¯ä¸€æ¬¾ä¸»è¦ä½¿ç”¨ Go è¯­è¨€å¼€å‘çš„ç½‘ç»œä»£ç† (ç±»ä¼¼ Envoyã€Nginx)ï¼Œèžåˆäº†å¤§é‡äº‘åŽŸç”Ÿé€šç”¨æ’ä»¶ï¼Œä¸ºæœåŠ¡æä¾›äº†å¤šåè®®ã€æ¨¡å—åŒ–ã€æ™ºèƒ½åŒ–ã€å®‰å…¨çš„ä»£ç†èƒ½åŠ›ã€‚

å¦‚ä½•ä¸ºè¿™äº›æ’ä»¶æä¾›ä¸€ä¸ªå®‰å…¨éš”ç¦»çš„è¿è¡ŒçŽ¯å¢ƒï¼Œç”šè‡³æ”¯æŒä¸åŒè¯­è¨€ç¼–å†™çš„æ’ä»¶ï¼Œæˆä¸ºäº†ä¸€ä¸ªéžå¸¸å…·æœ‰æŒ‘æˆ˜æ€§çš„è¯¾é¢˜ã€‚Wasm æŠ€æœ¯å’Œ Proxy-Wasm è§„èŒƒçš„è¯žç”Ÿä¸ºè§£å†³ä¸Šè¿°é—®é¢˜æä¾›äº†ä¸€ç§å…¨æ–°çš„æ€è·¯ã€‚

æœ¬é¢˜ç›®å°†åŸºäºŽ MOSN ä¸­å·²æœ‰çš„ Wasm æ¡†æž¶ï¼Œé€‚é…å¼€æºç¤¾åŒºä¸“é—¨ä¸ºç½‘ç»œä»£ç†åœºæ™¯æå‡ºçš„ Proxy-Wasm v2 è§„èŒƒï¼Œä½¿ MOSN å…·å¤‡è¿è¡Œç¬¦åˆ v2 è§„èŒƒçš„ Wasm æ’ä»¶çš„èƒ½åŠ›ã€‚

é¡¹ç›®ç¤¾åŒºå¯¼å¸ˆï¼šå¶æ°¸æ°[yongjie.yyj@antgroup.com](yongjie.yyj@antgroup.com)

### Layotto

**Layotto é›†æˆ Istio**

é¡¹ç›®ç¼–å·ï¼š22f080198

ä»»åŠ¡éš¾åº¦ï¼šè¿›é˜¶/Advanced

1.Istio æ˜¯ ServiceMesh æ–¹å‘ä¸Šä¸€ä¸ªéžå¸¸ç«çƒ­çš„è§£å†³æ–¹æ¡ˆï¼Œé»˜è®¤ä½¿ç”¨ envoy ä½œä¸ºæ•°æ®é¢ã€‚

2. MOSN ä½œä¸ºä¸€ä¸ªå¯¹æ ‡ envoy çš„å¦ä¸€ç§æ•°æ®é¢å®žçŽ°ï¼Œä¹Ÿå¯ä»¥è·Ÿ Istio é›†æˆï¼Œä½œä¸º envoy çš„ä¸€ç§æ›¿ä»£æ–¹æ¡ˆã€‚

3. Layotto ä½œä¸º Application Runtime çš„ä¸€ç§å®žçŽ°ï¼ŒåŸºäºŽ MOSN å¼€å‘ï¼ŒæœŸæœ›å¯ä»¥ç»“åˆ Service Mesh è·Ÿ Application Runtime ä¸¤ç§æ€æƒ³ã€‚

æ—¢ç„¶ Istio å¯ä»¥é›†æˆ MOSN ï¼Œä¸” Layotto è·Ÿ MOSN æ˜¯ä¸€ä½“çš„ï¼Œå› æ­¤æœ¬æ¬¡çš„ä»»åŠ¡æ˜¯æŠŠ Layotto ä½œä¸ºæ•°æ®é¢è·Ÿ Istio è¿›è¡Œé›†æˆï¼Œä»¥æœåŠ¡è°ƒç”¨ä¸ºä¾‹ï¼Œåœ¨åº”ç”¨é€šè¿‡ Layotto çš„ invokeService API åŽ»è°ƒç”¨ç›®æ ‡æœåŠ¡æ—¶å¯ä»¥ç›´æŽ¥å¤ç”¨ Istio å¼ºå¤§çš„æ²»ç†èƒ½åŠ›ï¼Œæ¯”å¦‚æµé‡æŽ§åˆ¶ã€æ•…éšœæ³¨å…¥ç­‰ç­‰ã€‚

Layotto ä¹‹å‰å°±å·²ç»å¯ä»¥è·Ÿ Istio 1.5.x é›†æˆï¼Œç”±äºŽè½åŽå½“æ—¶çš„ Istio ç‰ˆæœ¬å¤ªå¤šï¼Œæœ€ç»ˆæ²¡æœ‰åˆå¹¶åˆ°ä¸»å¹²ï¼Œæœ¬æ¬¡ä»»åŠ¡å¸Œæœ›å¯ä»¥é›†æˆ 1.10.x ä¹‹åŽçš„Istioã€‚

é¡¹ç›®ç¤¾åŒºå¯¼å¸ˆï¼šmarco[gujin.mzj@antgroup.com](gujin.mzj@antgroup.com)

### ç”³è¯·èµ„æ ¼

- å¹´æ»¡ 18 å‘¨å²åœ¨æ ¡å­¦ç”Ÿ

- æš‘æœŸå³å°†æ¯•ä¸šçš„å­¦ç”Ÿ:ç”³è¯·æ—¶å­¦ç”Ÿè¯å¤„åœ¨æœ‰æ•ˆæœŸå†…

- æµ·å¤–å­¦ç”Ÿ:æä¾›å½•å–é€šçŸ¥ä¹¦ã€å­¦ç”Ÿå¡ã€åœ¨è¯»è¯æ˜Žç­‰æ–‡ä»¶

### æ´»åŠ¨æµç¨‹
![weekly.jpg](https://gw.alipayobjects.com/mdn/rms_1c90e8/afts/img/A*I-1FT4ifgJIAAAAAAAAAAAAAARQnAQ)

![weekly.jpg](https://gw.alipayobjects.com/mdn/rms_1c90e8/afts/img/A*Dc30R4il5BsAAAAAAAAAAAAAARQnAQ)

å¾®ä¿¡æ‰«ç å¤‡æ³¨â€œå¼€æºä¹‹å¤â€è¿›ç¾¤äº¤æµ

ä¸Žå¯¼å¸ˆæ²Ÿé€šæ—¶é—´ï¼š4.21-5.20

>![](https://gw.alipayobjects.com/mdn/rms_1c90e8/afts/img/A*8G5NRZ7UEToAAAAAAAAAAAAAARQnAQ)
